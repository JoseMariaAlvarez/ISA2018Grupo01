<!DOCTYPE html>
<html>
  <head>
    <title>Photon</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../css/photon.min.css">
    <link rel="stylesheet" href="../css/own.css">
    <!-- Javascript -->
    <script src="js/menu.js" charset="utf-8"></script>
  </head>
  <body>
    <div class="window">

      <!-- .toolbar-header sits at the top of your app -->
      <!--<header class="toolbar toolbar-header">
        <h1 class="title">Header the tabs</h1>
      </header>-->

      <div class="tab-group">
        <div id="tab1" class="tab-item active" onclick="selectedTag('tab1')">
          <span class="icon icon-cancel icon-close-tab"></span>
          Tab
        </div>
        <div id="tab2" class="tab-item" onclick="selectedTag('tab2')">
          <span class="icon icon-cancel icon-close-tab"></span>
          Tab active
        </div>
        <div id="tab3" class="tab-item" onclick="selectedTag('tab3')">
          <span class="icon icon-cancel icon-close-tab"></span>
          Tab
        </div>
      </div>

  <iframe id="iframeTab1" src="test.html"></iframe>
  <iframe id="iframeTab2" src="test2.html" style="visibility:hidden;display:none"></iframe>
  <iframe id="iframeTab3" src="test3.html" style="visibility:hidden;display:none"></iframe>

<button id="select-directory" class="btn btn-large btn-default">Select dir</button>

    <script>
    const ipc = require('electron').ipcRenderer
    const selectDirBtn = document.getElementById('select-directory')
    var tab1Doc
    var tab2Doc
    selectDirBtn.addEventListener('click', function (event) {
      ipc.send('http-request','GET','https:','github.com',443,'/')
      ipc.send('open-file-dialog')
    })

    ipc.on('selected-directory', function (event, path) {
      document.getElementById('select-directory').innerHTML = `You selected: ${path}`
    })


    function selectedTag(idName) {
      document.getElementsByClassName("tab-item active")[0].className = "tab-item";
      document.getElementById(idName).className = "tab-item active";
      if(idName=="tab1"){
        //document.getElementById('myHtml').src = 'test.html';
        //document.getElementById('myHtml').contentWindow.document.getElementsByClassName("table-striped")[0].getElementsByTagName("tbody")[0].replaceWith(tab1Doc);
        document.getElementById("iframeTab2").style.visibility = "hidden";
        document.getElementById("iframeTab2").style.display = "none";
        document.getElementById("iframeTab1").style.visibility = "visible";
        document.getElementById("iframeTab1").style.display = "inline";
    }else if(idName=="tab2"){
      document.getElementById("iframeTab1").style.visibility = "hidden";
      document.getElementById("iframeTab1").style.display = "none";
      document.getElementById("iframeTab2").style.visibility = "visible";
      document.getElementById("iframeTab2").style.display = "inline";
      //tab1Doc=document.getElementById('myHtml').contentWindow.document.getElementsByClassName("table-striped")[0].getElementsByTagName("tbody")[0];
      //tab1Doc=document.getElementById('myHtml').getElementsByTagName('html')[0].innerHTML;
      //document.getElementById('myHtml').src = 'test2.html';
      //document.getElementById('myHtml').src = "data:text/html;charset=utf-8,";
    }else{

    }
    }

    ipc.on('set-tag-doc', function (event, arg) {
      arg = document
    })

    </script>

  </body>
</html>
